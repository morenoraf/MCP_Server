8 שיעור - סגל יורם ד"ר MCP Server Architecture

הרצאה סיכום

סגל יורם ד"ר

8 שיעור
AI סוכני לסביבת תוכנה ארכיטקטורת

MCP שרתי מבוססת

מפתח מילות

לסוכנים תקשורת פרוטוקול - MCP (Model Context Protocol) •
לקוח-שרת ארכיטקטורת - Client­Server Architecture •

בסיסיים פרימיטיבים - Tools, Resources, Prompts •
תוכנה פיתוח ערכת - SDK (Software Development Kit) •

גרפי משתמש ממשק - GUI •
יחידה בדיקות - Unit Testing •

מודולרית ארכיטקטורה - Modular Architecture •
סינגלטון עיצוב תבנית - Singleton Pattern •

JSON סכמת - JSON Schema •
תקשורת שכבת - Transport Layer •

AI-ה מעולם וחדשות פתיחה 1

טכנולוגיים עדכונים 1.1

המלאכותית: הבינה מעולם בחדשות שיתף סגל יורם ד"ר השיעור, בפתיחת

בתחום משמעותית בצורה מוביל כרגע - Gemini 3 •
מ-1.5 יותר טובות יכולות עם משופרת גרסה - OpenAI 5.2 •

מלאים. סוכנים עם עבודה מאפשרת וירטואלי, מחשב שמפעילה ייחודית סביבה - Manus •
מצגות ליצירת במיוחד מצוינת

לכל חיבור מאפשר ,Claude Code את לחקות שמנסה Open Source פרויקט - OpenCode •
מודלים ספק

אדפטיבי גרפי ממשק עם באינטרנט החיפוש תפיסת את המשנה גוגל של חדש דפדפן - Disco •
VS Code-ב המתחרה גוגל של חדשה פיתוח סביבת - Anti­Gravity •

1



8 שיעור - סגל יורם ד"ר MCP Server Architecture

GitHub API עם עבודה 2.1

אותו על משותפת עבודה מאפשר GitHub של API Key שיתוף :Manus עם מומלצת עבודה שיטת
שלו. המחשב על והמפתח שלו המחשב על עובד הסוכן - Repository

MCP-ב שרת-לקוח מושגי הבהרת 2

בסיסיות הגדרות 1.2

יוזם ולא מאזין למשחק, ראשון עולה לפנייה, מחכה - )Server( שרת •
לשרת פנייה ויוזם עולה - )Client( לקוח •

מהמקרים( %9.99( תמיד כמעט הכרחי זיהוי שלב - Handshake •

בקשות סוגי 2.2

בשרת כלום משנה לא ,)Read Only( בלבד קריאה - GET •
בשרת לשינוי גורם כלל בדרך - POST/Request •

דינמיים שרת-לקוח יחסי 3.2

הפנייה. את יזם מי הוא זאת שמגדיר מה - לקוח וגם שרת גם להיות יכול רכיב כל חשובה: נקודה
לדוגמה:

שרת הוא LLM-ה לקוח, הוא הסוכן → LLM-ל פונה שלנו הסוכן •
שרת הוא הכלי לקוח, הוא LLM-ה → מכלי תיקון מבקש LLM-ה •

Claude-ב וסוכנים סקילים 3

Agent-ל Skill בין הבדל 1.3

הקונטקסט את מרחיב הקיים, לפרומפט מידע הוספת - Skill •
חדש טרמינל פתיחת כמו לגמרי, חדש קונטקסט - Agent •

Context Window ניהול 2.3

דורס( )לא הקיים לקונטקסט מצטרף הוא - Skill כשמוסיפים •
)Clear( חדש סשן להתחיל צריך - חדש Skill עם לעבודה •

לערוך למחוק, להוסיף, - טקסטים באמצעות היא Context Window לנהל היחידה הדרך •

2



8 שיעור - סגל יורם ד"ר MCP Server Architecture

סוכנים בין סנכרון 3.3

)Polling( קבצים באמצעות סנכרון - Claude-ב •
Callbacks ,Pipes ,Signals עם עצמאי קוד לכתוב צריך - אמיתי לסנכרון •

נפרד בענף סוכן כל - GitHub-ב Branches עם עבודה מומלצת: שיטה •

AI לסוכני תוכנה ארכיטקטורת 4

קריטיים ארכיטקטורה עקרונות 1.4

סוכנים: הרבה עם לעבוד כדי נכונה ארכיטקטורה על להקפיד מאוד חשוב

הארכיטקטורה שכבות 1.1.4

קבצים ,Resources ,Database - )Infrastructure( תשתיות .1

האפליקציה של הלב - )Business Logic( עסקית לוגיקה .2

Exceptions לוגים, קונפיגורציה, - )Shared( משותפת שכבה .3

בפיתוח זהב כללי 2.4

)No Hard Coding( קבועים ערכים אפס 1.2.4

קבצים שמות נתיבים, נתונים, של Hard Code אין •
קונפיגורציה מתשתית בא הכל •
ומודולרי בר-החלפה דבר כל •

קצרים קבצים 2.2.4

לקובץ שורות 051 מקסימום •
ולדיבוג Context Window-ל עוזר •

זאת שבודק Unit Test יש •

קוד שכפול אפס - Singleton Pattern 3.2.4

קלאס או לפונקציה להיכנס חייב - פעמיים מופיע קוד אם •
לבאגים ביותר הבטוח המקום = קוד שכפול •

שכפולים שאין שבודק Unit Test יש •

Object Oriented-ב עבודה 4.2.4

שכבה לכל קלאסים הגדרת •
קלאס להיות צריך Skill •

קלאס אחד כל - Resources-ו Tools •

3



8 שיעור - סגל יורם ד"ר MCP Server Architecture

MCP של הפרימיטיבים שלושת 5

כלים - Tools 1.5

)Write( מערכת מצב שמשנות אקטיביות פעולות ביצוע •
לפרמטרים JSON סכמת תיאור, ייחודי, מזהה כלי: לכל •

לקוח הוספת חשבונית, הפקת דוגמה: •

משאבים - Resources 2.5

)Read( האמיתי מהעולם נתונים קריאת •
אחרונות( חשבוניות 5 )למשל: אוטומטי מתעדכן - דינמי •

מע"מ( אחוזי )למשל: קונפיגורציה בעדכון רק משתנה - סטטי •
URI לפי גישה •

תבניות - Prompts 3.5

משימות לביצוע הקשר ומתן המודל הדרכת •
דינמיים ארגומנטים + קבוע System Prompt •

)Transport Layer( התקשורת שכבת 6

המודולריות חשיבות 1.6

ובת-החלפה: מודולרית להיות חייבת התקשורת שכבת

אחר משהו מחר ,HTTP היום •
התעבורה משכבת נפרד JSON פרוטוקול •

תקשורת סוגי 2.6

CLI-ל טובה ומהירה, מאובטחת מקומית, עבודה - STDIO •
מחשבים בין ווב, אפליקציות דפדפנים, עם לעבודה - HTTP/SSE •

התכנות ממשק שכבת - SDK 7

קריטי עיקרון 1.7

ישירות! GUI עם קוד שכותבים כזה דבר אין

GUI-ל הלוגיקה בין API/SDK שכבת יש תמיד •
נתונים להציג אחת דרך רק הוא GUI-ה •

אוטומטיות בדיקות במולטי-לנגוויג', תמיכה בקלות, GUI החלפת מאפשר •

4



8 שיעור - סגל יורם ד"ר MCP Server Architecture

ההקלקות שלוש כלל 2.7

לתפעול. ונוח יעיל קוד יוצר זה פונקציה. לכל להגיע הקלקות משלוש יותר לא = איכותי GUI

ממשק דרישות 3.7

נתונים לעדכון Refresh מנגנון •
חיצוניים לקבצים Export יכולת •

)CLI + ווב או דסקטופ, + טרמינל )למשל: GUI סוגי שני בלפחות תמיכה •

איטיים במשאבים טיפול 8

בקבוק צווארי זיהוי 1.8

לדדלוקים. מקום = בקבוק צוואר = איטיים הם דאטאבייס( )קבצים, משאבים

נדרשים מנגנונים 2.8

ודדלוקים נעילות שאין בדיקה - Lock Manager •
אחד( )מודול מוגדר מסלול דרך רק וכתיבה קריאה •
מוגבל מספר עם חוזר ניסיון - Retry Mechanism •

Logs ורישום מקיף Error Handling •

לפרומפט הנחיות 3.8

לדרוש: יש בפרומפט

)Parallel Processing( במקביל עבודה •
Multi­threading/Multi­processing-ב שימוש •

Semaphore ,Mutex ,Lock מנגנוני •

להצלחה המפתח - Unit Testing 9

טסטים לבניית גישה 1.9

אותו שבודק Unit Test ליצור - באג שמתגלה פעם כל •
קומפילציה בכל רצים Unit Tests •

תיקיות מבנה קוד, שכפול קבצים, גודל בודקים: •

5



8 שיעור - סגל יורם ד"ר MCP Server Architecture

יתרונות 2.9

באגים אותם על חזרה מונע •
בסטנדרטים עמידה מבטיח •
ואמין מהיר פיתוח מאפשר •

MCP Inspector כלי 01

:MCP שרתי לדיבוג חדש כלי

היסטוריה פרוטוקול, הכלים, את ומציג MCP לשרת מתחבר •
נוטיפיקציות ,JSON פורמט סביבה, משתני מציג •

ובדיקה לניתוח בדפדפן נפתח •

מעשיים טיפים 11

תמונות עם עבודה 1.11

יד כתב וקריאת תמונה לעיבוד ביותר הטוב - Gemini 3 •
מסורתיים אלגוריתמים במקום תמונה בבעיות לטפל LLM-ל לתת מומלצת: גישה •

API Key בלי עבודה 2.11

טוקנים: על לשלם במקום קבוע מנוי עם CLI דרך לעבוד אפשר

בטרמינל פרומפט כתיבת •
בפייתון הקומנד של בנייה •

אוטומטי טוקן מקבל דפדפן דרך לוגין •

לפרויקט השלבים חמשת - סיכום 21

Infrastructure-ו Shared Domain - תשתיות .1

Tools עם הראשון השרת בניית - MCP שרת .2

Prompts-ו Resources הוספת - פרימיטיבים .3

בתעבורה מודולריות - תקשורת שכבת .4

מרובים ממשקים - GUI-ו SDK .5

6



8 שיעור - סגל יורם ד"ר MCP Server Architecture

סגל יורם לד"ר שמורות הזכויות כל ©

7